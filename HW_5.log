andrey@utm-vm:~$ vim compose.yaml 
andrey@utm-vm:~$ cat compose.yaml 
version: '3.9'

services:

  db:
    build:
      dockerfile: ./Dockerfile
    environment: 
      MYSQL_ROOT_PASSWORD: test123
    deploy:
      mode: replicated
      replicas: 2

  adminer:
    image: adminer:4.8.1
    restart: always
    ports:
      - 6080:8080
    volumes:
      - ./myfolder:/myfolder
    deploy:
      mode: replicated
      replicas: 1

andrey@utm-vm:~$ docker compose up
[+] Building 3.1s (7/7) FINISHED                                                                                                                                         
 => [db internal] load build definition from Dockerfile                                                                                                             0.0s
 => => transferring dockerfile: 135B                                                                                                                                0.0s
 => [db internal] load .dockerignore                                                                                                                                0.0s
 => => transferring context: 2B                                                                                                                                     0.0s
 => [db internal] load metadata for docker.io/library/ubuntu:22.10                                                                                                  3.1s
 => [db 1/3] FROM docker.io/library/ubuntu:22.10@sha256:e322f4808315c387868a9135beeb11435b5b83130a8599fd7d0014452c34f489                                            0.0s
 => => resolve docker.io/library/ubuntu:22.10@sha256:e322f4808315c387868a9135beeb11435b5b83130a8599fd7d0014452c34f489                                               0.0s
 => CACHED [db 2/3] RUN apt-get update                                                                                                                              0.0s
 => CACHED [db 3/3] RUN apt-get install -y mysql-server                                                                                                             0.0s
 => [db] exporting to image                                                                                                                                         0.0s
 => => exporting layers                                                                                                                                             0.0s
 => => writing image sha256:89e349e561dce5e806c4bbb4eb5a855747b340e9843a85087b30ceec754eef13                                                                        0.0s
 => => naming to docker.io/library/andrey-db                                                                                                                        0.0s
[+] Running 4/4
 ✔ Network andrey_default      Created                                                                                                                              0.1s 
 ✔ Container andrey-adminer-1  Created                                                                                                                              0.0s 
 ✔ Container andrey-db-2       Created                                                                                                                              0.0s 
 ✔ Container andrey-db-1       Created                                                                                                                              0.0s 
Attaching to andrey-adminer-1, andrey-db-1, andrey-db-2
andrey-adminer-1  | [Mon Jul 31 14:07:04 2023] PHP 7.4.33 Development Server (http://[::]:8080) started
andrey-adminer-1  | [Mon Jul 31 14:15:13 2023] [::ffff:192.168.64.1]:53305 Accepted
andrey-adminer-1  | [Mon Jul 31 14:15:13 2023] [::ffff:192.168.64.1]:53305 [200]: GET /
andrey-adminer-1  | [Mon Jul 31 14:15:13 2023] [::ffff:192.168.64.1]:53305 Closing
andrey-adminer-1  | [Mon Jul 31 14:15:14 2023] [::ffff:192.168.64.1]:53306 Accepted
andrey-adminer-1  | [Mon Jul 31 14:15:14 2023] [::ffff:192.168.64.1]:53306 [200]: GET /?file=default.css&version=4.8.1
andrey-adminer-1  | [Mon Jul 31 14:15:14 2023] [::ffff:192.168.64.1]:53306 Closing
andrey-adminer-1  | [Mon Jul 31 14:15:14 2023] [::ffff:192.168.64.1]:53307 Accepted
andrey-adminer-1  | [Mon Jul 31 14:15:14 2023] [::ffff:192.168.64.1]:53307 [200]: GET /?file=functions.js&version=4.8.1
andrey-adminer-1  | [Mon Jul 31 14:15:14 2023] [::ffff:192.168.64.1]:53307 Closing
andrey-adminer-1  | [Mon Jul 31 14:15:14 2023] [::ffff:192.168.64.1]:53308 Accepted
andrey-adminer-1  | [Mon Jul 31 14:15:14 2023] [::ffff:192.168.64.1]:53308 [200]: GET /?file=favicon.ico&version=4.8.1
andrey-adminer-1  | [Mon Jul 31 14:15:14 2023] [::ffff:192.168.64.1]:53308 Closing
andrey-adminer-1  | [Mon Jul 31 14:15:22 2023] [::ffff:192.168.64.1]:53310 Accepted
andrey-adminer-1  | [Mon Jul 31 14:15:22 2023] [::ffff:192.168.64.1]:53310 [302]: POST /
andrey-adminer-1  | [Mon Jul 31 14:15:22 2023] [::ffff:192.168.64.1]:53310 Closing
andrey-adminer-1  | [Mon Jul 31 14:15:22 2023] [::ffff:192.168.64.1]:53311 Accepted
andrey-adminer-1  | [Mon Jul 31 14:15:22 2023] [::ffff:192.168.64.1]:53311 [403]: GET /?server=db&username=root
andrey-adminer-1  | [Mon Jul 31 14:15:22 2023] [::ffff:192.168.64.1]:53311 Closing
andrey-adminer-1  | [Mon Jul 31 14:16:07 2023] [::ffff:192.168.64.1]:53316 Accepted
andrey-adminer-1  | [Mon Jul 31 14:16:07 2023] [::ffff:192.168.64.1]:53316 [302]: POST /?server=db&username=root
andrey-adminer-1  | [Mon Jul 31 14:16:07 2023] [::ffff:192.168.64.1]:53316 Closing
andrey-adminer-1  | [Mon Jul 31 14:16:07 2023] [::ffff:192.168.64.1]:53317 Accepted
andrey-adminer-1  | [Mon Jul 31 14:16:07 2023] [::ffff:192.168.64.1]:53317 [403]: GET /?server=db&username=root
andrey-adminer-1  | [Mon Jul 31 14:16:07 2023] [::ffff:192.168.64.1]:53317 Closing
andrey-adminer-1  | [Mon Jul 31 14:16:20 2023] [::ffff:192.168.64.1]:53318 Accepted
andrey-adminer-1  | [Mon Jul 31 14:16:20 2023] [::ffff:192.168.64.1]:53318 [302]: POST /?server=db&username=root
andrey-adminer-1  | [Mon Jul 31 14:16:20 2023] [::ffff:192.168.64.1]:53318 Closing
andrey-adminer-1  | [Mon Jul 31 14:16:20 2023] [::ffff:192.168.64.1]:53319 Accepted
andrey-adminer-1  | [Mon Jul 31 14:16:20 2023] [::ffff:192.168.64.1]:53319 [403]: GET /?server=db&username=root
andrey-adminer-1  | [Mon Jul 31 14:16:20 2023] [::ffff:192.168.64.1]:53319 Closing
...
andrey-adminer-1 exited with code 0
andrey-adminer-1 exited with code 0
andrey-db-1 exited with code 0
andrey-db-1 exited with code 137
andrey-db-2 exited with code 0
andrey@utm-vm:~$ docker compose up
[+] Running 3/0
 ✔ Container andrey-adminer-1  Created                                                                                                                              0.0s 
 ✔ Container andrey-db-2       Created                                                                                                                              0.0s 
 ✔ Container andrey-db-1       Created                                                                                                                              0.0s 
Attaching to andrey-adminer-1, andrey-db-1, andrey-db-2
andrey-adminer-1  | [Mon Jul 31 14:26:25 2023] PHP 7.4.33 Development Server (http://[::]:8080) started
andrey-adminer-1  | [Mon Jul 31 14:26:44 2023] [::ffff:192.168.64.1]:53432 Accepted
andrey-adminer-1  | [Mon Jul 31 14:26:44 2023] [::ffff:192.168.64.1]:53432 [403]: GET /?server=db&username=ROOT
andrey-adminer-1  | [Mon Jul 31 14:26:44 2023] [::ffff:192.168.64.1]:53432 Closing
andrey-adminer-1  | [Mon Jul 31 14:26:53 2023] [::ffff:192.168.64.1]:53434 Accepted
andrey-adminer-1  | [Mon Jul 31 14:26:53 2023] [::ffff:192.168.64.1]:53434 [302]: POST /?server=db&username=ROOT
andrey-adminer-1  | [Mon Jul 31 14:26:53 2023] [::ffff:192.168.64.1]:53434 Closing
andrey-adminer-1  | [Mon Jul 31 14:26:53 2023] [::ffff:192.168.64.1]:53435 Accepted
andrey-adminer-1  | [Mon Jul 31 14:26:53 2023] [::ffff:192.168.64.1]:53435 [403]: GET /?server=db&username=root
andrey-adminer-1  | [Mon Jul 31 14:26:53 2023] [::ffff:192.168.64.1]:53435 Closing
andrey-adminer-1  | [Mon Jul 31 14:27:03 2023] [::ffff:192.168.64.1]:53438 Accepted
andrey-adminer-1  | [Mon Jul 31 14:27:03 2023] [::ffff:192.168.64.1]:53438 [302]: POST /?server=db&username=root
andrey-adminer-1  | [Mon Jul 31 14:27:03 2023] [::ffff:192.168.64.1]:53438 Closing
...
andrey-adminer-1 exited with code 0
andrey-adminer-1 exited with code 0
andrey-db-1 exited with code 0
andrey-db-1 exited with code 137
andrey-db-2 exited with code 0


// Другая вкладка терминала:
(base) a_zavershinskiy@MBP--AZavershinskiy ~ % ssh andrey@192.168.64.10
andrey@utm-vm:~$ docker ps
CONTAINER ID   IMAGE           COMMAND                  CREATED          STATUS          PORTS                                       NAMES
9609b08a0b34   andrey-db       "/bin/sh -c mysqld"      13 minutes ago   Up 13 minutes   3306/tcp                                    andrey-db-2
7774f6c499f1   andrey-db       "/bin/sh -c mysqld"      13 minutes ago   Up 13 minutes   3306/tcp                                    andrey-db-1
3b0c2c615ef4   adminer:4.8.1   "entrypoint.sh php -…"   13 minutes ago   Up 13 minutes   0.0.0.0:6080->8080/tcp, :::6080->8080/tcp   andrey-adminer-1
andrey@utm-vm:~$ docker compose stop
[+] Stopping 3/3
 ✔ Container andrey-db-1       Stopped                                                                                                                             10.3s 
 ✔ Container andrey-db-2       Stopped                                                                                                                             10.4s 
 ✔ Container andrey-adminer-1  Stopped                                                                                                                              0.2s 
andrey@utm-vm:~$ docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
andrey@utm-vm:~$ docker ps -a
CONTAINER ID   IMAGE           COMMAND                  CREATED          STATUS                       PORTS     NAMES
9609b08a0b34   andrey-db       "/bin/sh -c mysqld"      19 minutes ago   Exited (137) 9 seconds ago             andrey-db-2
7774f6c499f1   andrey-db       "/bin/sh -c mysqld"      19 minutes ago   Exited (137) 9 seconds ago             andrey-db-1
3b0c2c615ef4   adminer:4.8.1   "entrypoint.sh php -…"   19 minutes ago   Exited (0) 19 seconds ago              andrey-adminer-1
andrey@utm-vm:~$ docker ps
CONTAINER ID   IMAGE           COMMAND                  CREATED          STATUS         PORTS                                       NAMES
9609b08a0b34   andrey-db       "/bin/sh -c mysqld"      19 minutes ago   Up 9 seconds   3306/tcp                                    andrey-db-2
7774f6c499f1   andrey-db       "/bin/sh -c mysqld"      19 minutes ago   Up 8 seconds   3306/tcp                                    andrey-db-1
3b0c2c615ef4   adminer:4.8.1   "entrypoint.sh php -…"   19 minutes ago   Up 9 seconds   0.0.0.0:6080->8080/tcp, :::6080->8080/tcp   andrey-adminer-1
andrey@utm-vm:~$ docker compose down 
[+] Running 4/4
 ✔ Container andrey-adminer-1  Removed                                                                                                                              0.2s 
 ✔ Container andrey-db-1       Removed                                                                                                                             10.3s 
 ✔ Container andrey-db-2       Removed                                                                                                                             10.4s 
 ✔ Network andrey_default      Removed                                                                                                                              0.3s 
andrey@utm-vm:~$ docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
andrey@utm-vm:~$ docker ps -a
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
andrey@utm-vm:~$ 

/ "/Containerization/Screenshot for HW_5.png" - скрин adminer