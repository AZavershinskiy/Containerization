Last login: Sat Jul  8 22:05:24 on console
(base) a_zavershinskiy@MBP--AZavershinskiy ~ % ssh andrey@192.168.64.10
andrey@192.168.64.10's password: 
Welcome to Ubuntu 22.04.2 LTS (GNU/Linux 5.19.0-46-generic aarch64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

Expanded Security Maintenance for Applications is not enabled.

0 updates can be applied immediately.

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

Last login: Wed May 17 00:28:52 2023 from 192.168.64.1

andrey@utm-vm:~$ mkdir GB
andrey@utm-vm:~$ mkdir GB/bin
andrey@utm-vm:~$ cp /bin/bash GB/bin/
andrey@utm-vm:~$ ldd /bin/bash
	linux-vdso.so.1 (0x0000ffffb9763000)
	libtinfo.so.6 => /lib/aarch64-linux-gnu/libtinfo.so.6 (0x0000ffffb9560000)
	libc.so.6 => /lib/aarch64-linux-gnu/libc.so.6 (0x0000ffffb93b0000)
	/lib/ld-linux-aarch64.so.1 (0x0000ffffb972a000)
andrey@utm-vm:~$ mkdir GB/lib
andrey@utm-vm:~$ cp /lib/aarch64-linux-gnu/libtinfo.so.6 GB/lib
andrey@utm-vm:~$ cp /lib/aarch64-linux-gnu/libc.so.6  GB/lib
andrey@utm-vm:~$ cp /lib/aarch64-linux-gnu/ld-linux-aarch64.so.1 GB/lib
andrey@utm-vm:~$ sudo chroot GB
bash-5.1# 
bash-5.1# 
bash-5.1# exit


andrey@utm-vm:~$ cat /proc/sys/kernel/pid_max 
4194304
andrey@utm-vm:~$ ps 
    PID TTY          TIME CMD
   5547 pts/0    00:00:00 bash
   6193 pts/0    00:00:00 ps
andrey@utm-vm:~$ top

top - 15:33:08 up 58 min,  2 users,  load average: 0,00, 0,00, 0,00
Tasks: 215 total,   1 running, 214 sleeping,   0 stopped,   0 zombie
%Cpu(s):  0,2 us,  0,1 sy,  0,0 ni, 99,7 id,  0,0 wa,  0,0 hi,  0,0 si,  0,0 st
MiB Mem :   3905,5 total,   1931,2 free,    957,6 used,   1016,7 buff/cache
MiB Swap:   2140,0 total,   2140,0 free,      0,0 used.   2769,1 avail Mem 

    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND                        
   1557 andrey    20   0 5496140 437860 145216 S   1,3  10,9   1:10.48 gnome-shell                    
    483 systemd+  20   0   15004   3752   3012 S   0,7   0,1   0:07.85 systemd-oomd                   
    635 root      20   0 1631460  37876  25200 S   0,7   0,9   0:12.52 containerd                     
     15 root      20   0       0      0      0 I   0,3   0,0   0:00.85 rcu_preempt                    
   6194 andrey    20   0   13052   3728   2988 R   0,3   0,1   0:00.07 top                            
      1 root      20   0  168360  11596   7500 S   0,0   0,3   0:00.94 systemd                        
      2 root      20   0       0      0      0 S   0,0   0,0   0:00.00 kthreadd                       
      3 root       0 -20       0      0      0 I   0,0   0,0   0:00.00 rcu_gp                         
      4 root       0 -20       0      0      0 I   0,0   0,0   0:00.00 rcu_par_gp                     
      5 root       0 -20       0      0      0 I   0,0   0,0   0:00.00 slub_flushwq                   
      6 root       0 -20       0      0      0 I   0,0   0,0   0:00.00 netns                          
      8 root       0 -20       0      0      0 I   0,0   0,0   0:00.00 kworker/0:0H-events_highpri    
     10 root       0 -20       0      0      0 I   0,0   0,0   0:00.00 mm_percpu_wq                   
     11 root      20   0       0      0      0 I   0,0   0,0   0:00.00 rcu_tasks_kthread              
     12 root      20   0       0      0      0 I   0,0   0,0   0:00.00 rcu_tasks_rude_kthread         
     13 root      20   0       0      0      0 I   0,0   0,0   0:00.00 rcu_tasks_trace_kthread        
     14 root      20   0       0      0      0 S   0,0   0,0   0:00.02 ksoftirqd/0                    
     16 root      rt   0       0      0      0 S   0,0   0,0   0:00.04 migration/0                    
     17 root     -51   0       0      0      0 S   0,0   0,0   0:00.00 idle_inject/0                  
     19 root      20   0       0      0      0 S   0,0   0,0   0:00.00 cpuhp/0                        
     20 root      20   0       0      0      0 S   0,0   0,0   0:00.00 cpuhp/1                        
andrey@utm-vm:~$ vi example1.
andrey@utm-vm:~$ vi example1.
andrey@utm-vm:~$ ls
Desktop    Downloads  ICW    Pictures  Templates  all.txt    err.txt    ls_txt  sdt.txt  testsc
Documents  GB         Music  Public    Videos     cycles.sh  example1.  lws     snap
andrey@utm-vm:~$ mv exa
mv: missing destination file operand after 'exa'
Try 'mv --help' for more information.
andrey@utm-vm:~$ mv example1. example1.c
andrey@utm-vm:~$ ls
Desktop    Downloads  ICW    Pictures  Templates  all.txt    err.txt     ls_txt  sdt.txt  testsc
Documents  GB         Music  Public    Videos     cycles.sh  example1.c  lws     snap
andrey@utm-vm:~$ gcc example1.c -o example1.sh
Command 'gcc' not found, but can be installed with:
sudo apt install gcc
andrey@utm-vm:~$ sudo apt install gcc
[sudo] password for andrey: 
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following additional packages will be installed:
  binutils binutils-aarch64-linux-gnu binutils-common gcc-11 libasan6 libbinutils libc-dev-bin
  libc-devtools libc6-dev libcc1-0 libcrypt-dev libctf-nobfd0 libctf0 libgcc-11-dev libhwasan0
  libitm1 liblsan0 libnsl-dev libtirpc-dev libtsan0 libubsan1 linux-libc-dev manpages-dev
  rpcsvc-proto
Suggested packages:
  binutils-doc gcc-multilib make autoconf automake libtool flex bison gcc-doc gcc-11-doc
  gcc-11-locales glibc-doc
The following NEW packages will be installed:
  binutils binutils-aarch64-linux-gnu binutils-common gcc gcc-11 libasan6 libbinutils libc-dev-bin
  libc-devtools libc6-dev libcc1-0 libcrypt-dev libctf-nobfd0 libctf0 libgcc-11-dev libhwasan0
  libitm1 liblsan0 libnsl-dev libtirpc-dev libtsan0 libubsan1 linux-libc-dev manpages-dev
  rpcsvc-proto
0 upgraded, 25 newly installed, 0 to remove and 16 not upgraded.
Need to get 38,4 MB of archives.
After this operation, 126 MB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://ru.ports.ubuntu.com/ubuntu-ports jammy/main arm64 gcc arm64 4:11.2.0-1ubuntu1 [5 128 B]
Get:2 http://ru.ports.ubuntu.com/ubuntu-ports jammy/main arm64 libcrypt-dev arm64 1:4.4.27-1 [119 kB]
Get:3 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 binutils-common arm64 2.38-4ubuntu2.3 [222 kB]
Get:4 http://ru.ports.ubuntu.com/ubuntu-ports jammy/main arm64 rpcsvc-proto arm64 1.4.2-0ubuntu6 [65,4 kB]
Get:5 http://ru.ports.ubuntu.com/ubuntu-ports jammy-updates/main arm64 libtirpc-dev arm64 1.3.2-2ubuntu0.1 [199 kB]
Get:6 http://ru.ports.ubuntu.com/ubuntu-ports jammy/main arm64 libnsl-dev arm64 1.3.0-2build2 [72,1 kB]
Get:7 http://ru.ports.ubuntu.com/ubuntu-ports jammy/main arm64 manpages-dev all 5.10-1ubuntu1 [2 309 kB]
Get:8 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 libbinutils arm64 2.38-4ubuntu2.3 [825 kB]
Get:9 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 libctf-nobfd0 arm64 2.38-4ubuntu2.3 [108 kB]
Get:10 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 libctf0 arm64 2.38-4ubuntu2.3 [103 kB]
Get:11 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 binutils-aarch64-linux-gnu arm64 2.38-4ubuntu2.3 [3 230 kB]
Get:12 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 binutils arm64 2.38-4ubuntu2.3 [3 162 B]
Get:13 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 libcc1-0 arm64 12.3.0-1ubuntu1~22.04 [45,0 kB]
Get:14 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 libitm1 arm64 12.3.0-1ubuntu1~22.04 [28,4 kB]
Get:15 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 libasan6 arm64 11.4.0-1ubuntu1~22.04 [2 234 kB]
Get:16 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 liblsan0 arm64 12.3.0-1ubuntu1~22.04 [1 035 kB]
Get:17 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 libtsan0 arm64 11.4.0-1ubuntu1~22.04 [2 235 kB]
Get:18 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 libubsan1 arm64 12.3.0-1ubuntu1~22.04 [965 kB]
Get:19 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 libhwasan0 arm64 12.3.0-1ubuntu1~22.04 [1 117 kB]
Get:20 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 libgcc-11-dev arm64 11.4.0-1ubuntu1~22.04 [1 146 kB]
Get:21 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 gcc-11 arm64 11.4.0-1ubuntu1~22.04 [19,4 MB]
Get:22 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 libc-dev-bin arm64 2.35-0ubuntu3.2 [19,6 kB]
Get:23 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 libc-devtools arm64 2.35-0ubuntu3.2 [27,6 kB]
Get:24 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 linux-libc-dev arm64 5.15.0-77.84 [1 302 kB]
Get:25 http://ports.ubuntu.com/ubuntu-ports jammy-proposed/main arm64 libc6-dev arm64 2.35-0ubuntu3.2 [1 545 kB]
Fetched 38,4 MB in 11s (3 476 kB/s)                                                                   
Selecting previously unselected package binutils-common:arm64.
(Reading database ... 187553 files and directories currently installed.)
Preparing to unpack .../00-binutils-common_2.38-4ubuntu2.3_arm64.deb ...
Unpacking binutils-common:arm64 (2.38-4ubuntu2.3) ...
Selecting previously unselected package libbinutils:arm64.
Preparing to unpack .../01-libbinutils_2.38-4ubuntu2.3_arm64.deb ...
Unpacking libbinutils:arm64 (2.38-4ubuntu2.3) ...
Selecting previously unselected package libctf-nobfd0:arm64.
Preparing to unpack .../02-libctf-nobfd0_2.38-4ubuntu2.3_arm64.deb ...
Unpacking libctf-nobfd0:arm64 (2.38-4ubuntu2.3) ...
Selecting previously unselected package libctf0:arm64.
Preparing to unpack .../03-libctf0_2.38-4ubuntu2.3_arm64.deb ...
Unpacking libctf0:arm64 (2.38-4ubuntu2.3) ...
Selecting previously unselected package binutils-aarch64-linux-gnu.
Preparing to unpack .../04-binutils-aarch64-linux-gnu_2.38-4ubuntu2.3_arm64.deb ...
Unpacking binutils-aarch64-linux-gnu (2.38-4ubuntu2.3) ...
Selecting previously unselected package binutils.
Preparing to unpack .../05-binutils_2.38-4ubuntu2.3_arm64.deb ...
Unpacking binutils (2.38-4ubuntu2.3) ...
Selecting previously unselected package libcc1-0:arm64.
Preparing to unpack .../06-libcc1-0_12.3.0-1ubuntu1~22.04_arm64.deb ...
Unpacking libcc1-0:arm64 (12.3.0-1ubuntu1~22.04) ...
Selecting previously unselected package libitm1:arm64.
Preparing to unpack .../07-libitm1_12.3.0-1ubuntu1~22.04_arm64.deb ...
Unpacking libitm1:arm64 (12.3.0-1ubuntu1~22.04) ...
Selecting previously unselected package libasan6:arm64.
Preparing to unpack .../08-libasan6_11.4.0-1ubuntu1~22.04_arm64.deb ...
Unpacking libasan6:arm64 (11.4.0-1ubuntu1~22.04) ...
Selecting previously unselected package liblsan0:arm64.
Preparing to unpack .../09-liblsan0_12.3.0-1ubuntu1~22.04_arm64.deb ...
Unpacking liblsan0:arm64 (12.3.0-1ubuntu1~22.04) ...
Selecting previously unselected package libtsan0:arm64.
Preparing to unpack .../10-libtsan0_11.4.0-1ubuntu1~22.04_arm64.deb ...
Unpacking libtsan0:arm64 (11.4.0-1ubuntu1~22.04) ...
Selecting previously unselected package libubsan1:arm64.
Preparing to unpack .../11-libubsan1_12.3.0-1ubuntu1~22.04_arm64.deb ...
Unpacking libubsan1:arm64 (12.3.0-1ubuntu1~22.04) ...
Selecting previously unselected package libhwasan0:arm64.
Preparing to unpack .../12-libhwasan0_12.3.0-1ubuntu1~22.04_arm64.deb ...
Unpacking libhwasan0:arm64 (12.3.0-1ubuntu1~22.04) ...
Selecting previously unselected package libgcc-11-dev:arm64.
Preparing to unpack .../13-libgcc-11-dev_11.4.0-1ubuntu1~22.04_arm64.deb ...
Unpacking libgcc-11-dev:arm64 (11.4.0-1ubuntu1~22.04) ...
Selecting previously unselected package gcc-11.
Preparing to unpack .../14-gcc-11_11.4.0-1ubuntu1~22.04_arm64.deb ...
Unpacking gcc-11 (11.4.0-1ubuntu1~22.04) ...
Selecting previously unselected package gcc.
Preparing to unpack .../15-gcc_4%3a11.2.0-1ubuntu1_arm64.deb ...
Unpacking gcc (4:11.2.0-1ubuntu1) ...
Selecting previously unselected package libc-dev-bin.
Preparing to unpack .../16-libc-dev-bin_2.35-0ubuntu3.2_arm64.deb ...
Unpacking libc-dev-bin (2.35-0ubuntu3.2) ...
Selecting previously unselected package libc-devtools.
Preparing to unpack .../17-libc-devtools_2.35-0ubuntu3.2_arm64.deb ...
Unpacking libc-devtools (2.35-0ubuntu3.2) ...
Selecting previously unselected package linux-libc-dev:arm64.
Preparing to unpack .../18-linux-libc-dev_5.15.0-77.84_arm64.deb ...
Unpacking linux-libc-dev:arm64 (5.15.0-77.84) ...
Selecting previously unselected package libcrypt-dev:arm64.
Preparing to unpack .../19-libcrypt-dev_1%3a4.4.27-1_arm64.deb ...
Unpacking libcrypt-dev:arm64 (1:4.4.27-1) ...
Selecting previously unselected package rpcsvc-proto.
Preparing to unpack .../20-rpcsvc-proto_1.4.2-0ubuntu6_arm64.deb ...
Unpacking rpcsvc-proto (1.4.2-0ubuntu6) ...
Selecting previously unselected package libtirpc-dev:arm64.
Preparing to unpack .../21-libtirpc-dev_1.3.2-2ubuntu0.1_arm64.deb ...
Unpacking libtirpc-dev:arm64 (1.3.2-2ubuntu0.1) ...
Selecting previously unselected package libnsl-dev:arm64.
Preparing to unpack .../22-libnsl-dev_1.3.0-2build2_arm64.deb ...
Unpacking libnsl-dev:arm64 (1.3.0-2build2) ...
Selecting previously unselected package libc6-dev:arm64.
Preparing to unpack .../23-libc6-dev_2.35-0ubuntu3.2_arm64.deb ...
Unpacking libc6-dev:arm64 (2.35-0ubuntu3.2) ...
Selecting previously unselected package manpages-dev.
Preparing to unpack .../24-manpages-dev_5.10-1ubuntu1_all.deb ...
Unpacking manpages-dev (5.10-1ubuntu1) ...
Setting up manpages-dev (5.10-1ubuntu1) ...
Setting up binutils-common:arm64 (2.38-4ubuntu2.3) ...
Setting up linux-libc-dev:arm64 (5.15.0-77.84) ...
Setting up libctf-nobfd0:arm64 (2.38-4ubuntu2.3) ...
Setting up libasan6:arm64 (11.4.0-1ubuntu1~22.04) ...
Setting up libtirpc-dev:arm64 (1.3.2-2ubuntu0.1) ...
Setting up rpcsvc-proto (1.4.2-0ubuntu6) ...
Setting up libubsan1:arm64 (12.3.0-1ubuntu1~22.04) ...
Setting up libnsl-dev:arm64 (1.3.0-2build2) ...
Setting up libhwasan0:arm64 (12.3.0-1ubuntu1~22.04) ...
Setting up libcrypt-dev:arm64 (1:4.4.27-1) ...
Setting up libbinutils:arm64 (2.38-4ubuntu2.3) ...
Setting up libc-dev-bin (2.35-0ubuntu3.2) ...
Setting up libcc1-0:arm64 (12.3.0-1ubuntu1~22.04) ...
Setting up liblsan0:arm64 (12.3.0-1ubuntu1~22.04) ...
Setting up libitm1:arm64 (12.3.0-1ubuntu1~22.04) ...
Setting up libc-devtools (2.35-0ubuntu3.2) ...
Setting up libtsan0:arm64 (11.4.0-1ubuntu1~22.04) ...
Setting up libctf0:arm64 (2.38-4ubuntu2.3) ...
Setting up binutils-aarch64-linux-gnu (2.38-4ubuntu2.3) ...
Setting up binutils (2.38-4ubuntu2.3) ...
Setting up libgcc-11-dev:arm64 (11.4.0-1ubuntu1~22.04) ...
Setting up gcc-11 (11.4.0-1ubuntu1~22.04) ...
Setting up libc6-dev:arm64 (2.35-0ubuntu3.2) ...
Setting up gcc (4:11.2.0-1ubuntu1) ...
Processing triggers for man-db (2.10.2-1) ...
Processing triggers for libc-bin (2.35-0ubuntu3.2) ...
andrey@utm-vm:~$ gcc example1.c -o example1.sh
andrey@utm-vm:~$ ./example1.sh 
clone() = -1
andrey@utm-vm:~$ top 

top - 16:24:39 up  1:23,  2 users,  load average: 0,06, 0,04, 0,01
Tasks: 214 total,   1 running, 213 sleeping,   0 stopped,   0 zombie
%Cpu(s):  0,1 us,  0,1 sy,  0,0 ni, 99,8 id,  0,1 wa,  0,0 hi,  0,0 si,  0,0 st
MiB Mem :   3905,5 total,   1736,0 free,    977,2 used,   1192,3 buff/cache
MiB Swap:   2140,0 total,   2140,0 free,      0,0 used.   2741,5 avail Mem 

    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND                        
     15 root      20   0       0      0      0 I   0,3   0,0   0:01.23 rcu_preempt                    
    483 systemd+  20   0   15004   3752   3012 S   0,3   0,1   0:11.46 systemd-oomd                   
    635 root      20   0 1631460  37876  25200 S   0,3   0,9   0:18.49 containerd                     
   1557 andrey    20   0 5496140 437960 145216 S   0,3  11,0   1:11.93 gnome-shell                    
   7322 andrey    20   0   13052   3732   2980 R   0,3   0,1   0:00.22 top                            
      1 root      20   0  168360  11596   7500 S   0,0   0,3   0:01.01 systemd                        
      2 root      20   0       0      0      0 S   0,0   0,0   0:00.00 kthreadd                       
      3 root       0 -20       0      0      0 I   0,0   0,0   0:00.00 rcu_gp                         
      4 root       0 -20       0      0      0 I   0,0   0,0   0:00.00 rcu_par_gp                     
      5 root       0 -20       0      0      0 I   0,0   0,0   0:00.00 slub_flushwq                   
      6 root       0 -20       0      0      0 I   0,0   0,0   0:00.00 netns                          
      8 root       0 -20       0      0      0 I   0,0   0,0   0:00.00 kworker/0:0H-events_highpri    
     10 root       0 -20       0      0      0 I   0,0   0,0   0:00.00 mm_percpu_wq                   
     11 root      20   0       0      0      0 I   0,0   0,0   0:00.00 rcu_tasks_kthread              
     12 root      20   0       0      0      0 I   0,0   0,0   0:00.00 rcu_tasks_rude_kthread         
     13 root      20   0       0      0      0 I   0,0   0,0   0:00.00 rcu_tasks_trace_kthread        
     14 root      20   0       0      0      0 S   0,0   0,0   0:00.02 ksoftirqd/0                    
     16 root      rt   0       0      0      0 S   0,0   0,0   0:00.07 migration/0                    
     17 root     -51   0       0      0      0 S   0,0   0,0   0:00.00 idle_inject/0                  
     19 root      20   0       0      0      0 S   0,0   0,0   0:00.00 cpuhp/0                        
     20 root      20   0       0      0      0 S   0,0   0,0   0:00.00 cpuhp/1                        
andrey@utm-vm:~$ ./example1.sh 
clone() = -1
andrey@utm-vm:~$ ps -aux
USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root           1  0.0  0.2 168360 11596 ?        Ss   15:00   0:01 /sbin/init splash
root           2  0.0  0.0      0     0 ?        S    15:00   0:00 [kthreadd]
root           3  0.0  0.0      0     0 ?        I<   15:00   0:00 [rcu_gp]
root           4  0.0  0.0      0     0 ?        I<   15:00   0:00 [rcu_par_gp]
root           5  0.0  0.0      0     0 ?        I<   15:00   0:00 [slub_flushwq]
root           6  0.0  0.0      0     0 ?        I<   15:00   0:00 [netns]
root           8  0.0  0.0      0     0 ?        I<   15:00   0:00 [kworker/0:0H-events_highpri]
root          10  0.0  0.0      0     0 ?        I<   15:00   0:00 [mm_percpu_wq]
root          11  0.0  0.0      0     0 ?        I    15:00   0:00 [rcu_tasks_kthread]
root          12  0.0  0.0      0     0 ?        I    15:00   0:00 [rcu_tasks_rude_kthread]
root          13  0.0  0.0      0     0 ?        I    15:00   0:00 [rcu_tasks_trace_kthread]
root          14  0.0  0.0      0     0 ?        S    15:00   0:00 [ksoftirqd/0]
root          15  0.0  0.0      0     0 ?        I    15:00   0:01 [rcu_preempt]
root          16  0.0  0.0      0     0 ?        S    15:00   0:00 [migration/0]
root          17  0.0  0.0      0     0 ?        S    15:00   0:00 [idle_inject/0]
root          19  0.0  0.0      0     0 ?        S    15:00   0:00 [cpuhp/0]
root          20  0.0  0.0      0     0 ?        S    15:00   0:00 [cpuhp/1]
root          21  0.0  0.0      0     0 ?        S    15:00   0:00 [idle_inject/1]
root          22  0.0  0.0      0     0 ?        S    15:00   0:00 [migration/1]
root          23  0.0  0.0      0     0 ?        S    15:00   0:00 [ksoftirqd/1]
root          25  0.0  0.0      0     0 ?        I<   15:00   0:00 [kworker/1:0H-events_highpri]
root          26  0.0  0.0      0     0 ?        S    15:00   0:00 [cpuhp/2]
root          27  0.0  0.0      0     0 ?        S    15:00   0:00 [idle_inject/2]
root          28  0.0  0.0      0     0 ?        S    15:00   0:00 [migration/2]
root          29  0.0  0.0      0     0 ?        S    15:00   0:00 [ksoftirqd/2]
root          31  0.0  0.0      0     0 ?        I<   15:00   0:00 [kworker/2:0H-events_highpri]
root          32  0.0  0.0      0     0 ?        S    15:00   0:00 [cpuhp/3]
root          33  0.0  0.0      0     0 ?        S    15:00   0:00 [idle_inject/3]
root          34  0.0  0.0      0     0 ?        S    15:00   0:00 [migration/3]
root          35  0.0  0.0      0     0 ?        S    15:00   0:00 [ksoftirqd/3]
root          37  0.0  0.0      0     0 ?        I<   15:00   0:00 [kworker/3:0H-events_highpri]
root          38  0.0  0.0      0     0 ?        S    15:00   0:00 [cpuhp/4]
root          39  0.0  0.0      0     0 ?        S    15:00   0:00 [idle_inject/4]
root          40  0.0  0.0      0     0 ?        S    15:00   0:00 [migration/4]
root          41  0.0  0.0      0     0 ?        S    15:00   0:00 [ksoftirqd/4]
root          43  0.0  0.0      0     0 ?        I<   15:00   0:00 [kworker/4:0H-events_highpri]
root          44  0.0  0.0      0     0 ?        S    15:00   0:00 [cpuhp/5]
root          45  0.0  0.0      0     0 ?        S    15:00   0:00 [idle_inject/5]
root          46  0.0  0.0      0     0 ?        S    15:00   0:00 [migration/5]
root          47  0.0  0.0      0     0 ?        S    15:00   0:00 [ksoftirqd/5]
root          49  0.0  0.0      0     0 ?        I<   15:00   0:00 [kworker/5:0H-events_highpri]
root          50  0.0  0.0      0     0 ?        S    15:00   0:00 [kdevtmpfs]
root          51  0.0  0.0      0     0 ?        I<   15:00   0:00 [inet_frag_wq]
root          52  0.0  0.0      0     0 ?        S    15:00   0:00 [kauditd]
root          53  0.0  0.0      0     0 ?        S    15:00   0:00 [khungtaskd]
root          55  0.0  0.0      0     0 ?        S    15:00   0:00 [oom_reaper]
root          56  0.0  0.0      0     0 ?        I<   15:00   0:00 [writeback]
root          57  0.0  0.0      0     0 ?        S    15:00   0:00 [kcompactd0]
root          58  0.0  0.0      0     0 ?        SN   15:00   0:00 [ksmd]
root          59  0.0  0.0      0     0 ?        SN   15:00   0:00 [khugepaged]
root          60  0.0  0.0      0     0 ?        I<   15:00   0:00 [kintegrityd]
root          61  0.0  0.0      0     0 ?        I<   15:00   0:00 [kblockd]
root          62  0.0  0.0      0     0 ?        I<   15:00   0:00 [blkcg_punt_bio]
root          63  0.0  0.0      0     0 ?        I<   15:00   0:00 [tpm_dev_wq]
root          64  0.0  0.0      0     0 ?        I<   15:00   0:00 [ata_sff]
root          65  0.0  0.0      0     0 ?        I<   15:00   0:00 [md]
root          66  0.0  0.0      0     0 ?        I<   15:00   0:00 [edac-poller]
root          67  0.0  0.0      0     0 ?        I<   15:00   0:00 [devfreq_wq]
root          68  0.0  0.0      0     0 ?        S    15:00   0:00 [watchdogd]
root          70  0.0  0.0      0     0 ?        I<   15:00   0:00 [kworker/0:1H-kblockd]
root          72  0.0  0.0      0     0 ?        S    15:00   0:00 [kswapd0]
root          73  0.0  0.0      0     0 ?        S    15:00   0:00 [ecryptfs-kthread]
root          79  0.0  0.0      0     0 ?        I<   15:00   0:00 [kthrotld]
root          86  0.0  0.0      0     0 ?        S    15:00   0:00 [irq/49-ACPI:Ged]
root          87  0.0  0.0      0     0 ?        I<   15:00   0:00 [acpi_thermal_pm]
root          88  0.0  0.0      0     0 ?        S    15:00   0:00 [xenbus_probe]
root          90  0.0  0.0      0     0 ?        I<   15:00   0:00 [mld]
root          91  0.0  0.0      0     0 ?        I<   15:00   0:00 [ipv6_addrconf]
root          96  0.0  0.0      0     0 ?        I<   15:00   0:00 [kstrp]
root         104  0.0  0.0      0     0 ?        I<   15:00   0:00 [zswap-shrink]
root         105  0.0  0.0      0     0 ?        I<   15:00   0:00 [kworker/u13:0]
root         150  0.0  0.0      0     0 ?        I<   15:00   0:00 [charger_manager]
root         191  0.0  0.0      0     0 ?        I<   15:00   0:00 [kworker/2:1H-kblockd]
root         205  0.0  0.0      0     0 ?        I<   15:00   0:00 [kworker/1:1H-kblockd]
root         207  0.0  0.0      0     0 ?        I<   15:00   0:00 [kworker/3:1H-kblockd]
root         208  0.0  0.0      0     0 ?        I<   15:00   0:00 [kworker/4:1H-kblockd]
root         229  0.0  0.0      0     0 ?        S    15:00   0:00 [jbd2/vda2-8]
root         230  0.0  0.0      0     0 ?        I<   15:00   0:00 [ext4-rsv-conver]
root         244  0.0  0.0      0     0 ?        S    15:00   0:00 [hwrng]
root         246  0.0  0.0      0     0 ?        I    15:00   0:00 [kworker/4:3-events]
root         273  0.0  0.5  64972 20676 ?        S<s  15:00   0:00 /lib/systemd/systemd-journald
root         288  0.0  0.0      0     0 ?        I<   15:00   0:00 [kworker/5:1H-kblockd]
root         330  0.0  0.1  26624  6648 ?        Ss   15:00   0:00 /lib/systemd/systemd-udevd
systemd+     483  0.2  0.0  15004  3752 ?        Ss   15:00   0:11 /lib/systemd/systemd-oomd
systemd+     486  0.0  0.3  25224 12976 ?        Ss   15:00   0:00 /lib/systemd/systemd-resolved
systemd+     488  0.0  0.1  88744  6496 ?        Ssl  15:00   0:00 /lib/systemd/systemd-timesyncd
root         510  0.0  0.0      0     0 ?        I    15:00   0:00 [kworker/3:3-events]
root         553  0.0  0.1 239788  7020 ?        Ssl  15:00   0:00 /usr/libexec/accounts-daemon
avahi        556  0.0  0.0   7976  3180 ?        Ss   15:00   0:00 avahi-daemon: running [utm-vm.local]
root         557  0.0  0.0   9124  2636 ?        Ss   15:00   0:00 /usr/sbin/cron -f -P
message+     558  0.0  0.1  11204  6008 ?        Ss   15:00   0:00 @dbus-daemon --system --address=syst
root         560  0.0  0.4 262432 17356 ?        Ssl  15:00   0:00 /usr/sbin/NetworkManager --no-daemon
root         565  0.0  0.0  82116  3176 ?        Ssl  15:00   0:00 /usr/sbin/irqbalance --foreground
root         567  0.0  0.4  41672 19688 ?        Ss   15:00   0:00 /usr/bin/python3 /usr/bin/networkd-d
root         568  0.0  0.2 242984 10336 ?        Ssl  15:00   0:00 /usr/libexec/polkitd --no-debug
root         569  0.0  0.1 239960  6620 ?        Ssl  15:00   0:00 /usr/libexec/power-profiles-daemon
syslog       570  0.0  0.1 222104  4448 ?        Ssl  15:00   0:00 /usr/sbin/rsyslogd -n -iNONE
root         571  0.0  0.9 1169800 39200 ?       Ssl  15:00   0:01 /usr/lib/snapd/snapd
root         572  0.0  0.1 236348  4636 ?        Ssl  15:00   0:00 /usr/libexec/switcheroo-control
root         573  0.0  0.1  15676  7484 ?        Ss   15:00   0:00 /lib/systemd/systemd-logind
root         574  0.0  0.3 394240 12172 ?        Ssl  15:00   0:00 /usr/libexec/udisks2/udisksd
root         575  0.0  0.1  15236  5416 ?        Ss   15:00   0:00 /sbin/wpa_supplicant -u -s -O /run/w
avahi        577  0.0  0.0   7680   344 ?        S    15:00   0:00 avahi-daemon: chroot helper
root         617  0.0  0.2 320784 11368 ?        Ssl  15:00   0:00 /usr/sbin/ModemManager
root         623  0.0  0.3  76344 12256 ?        Ss   15:00   0:00 /usr/sbin/cupsd -l
root         635  0.3  0.9 1631460 37876 ?       Ssl  15:00   0:18 /usr/bin/containerd
root         652  0.0  0.1  15136  7908 ?        Ss   15:00   0:00 sshd: /usr/sbin/sshd -D [listener] 0
root         656  0.0  0.5 118708 21748 ?        Ssl  15:00   0:00 /usr/bin/python3 /usr/share/unattend
root         667  0.0  0.2 241420  8308 ?        Ssl  15:00   0:00 /usr/sbin/gdm3
root         701  0.0  0.2 173520  9996 ?        Ssl  15:00   0:00 /usr/sbin/cups-browsed
kernoops     724  0.0  0.0  12756  1940 ?        Ss   15:00   0:00 /usr/sbin/kerneloops --test
kernoops     735  0.0  0.0  12756  1940 ?        Ss   15:00   0:00 /usr/sbin/kerneloops
root         781  0.0  1.3 1502480 55312 ?       Ssl  15:00   0:01 /usr/bin/dockerd -H fd:// --containe
root        1059  0.0  0.0      0     0 ?        S    15:00   0:00 [scsi_eh_0]
root        1060  0.0  0.0      0     0 ?        I<   15:00   0:00 [scsi_tmf_0]
root        1061  0.0  0.0      0     0 ?        S    15:00   0:01 [usb-storage]
root        1062  0.0  0.0      0     0 ?        I<   15:00   0:00 [uas]
root        1192  0.0  0.2 172112  9460 ?        Sl   15:00   0:00 gdm-session-worker [pam/gdm-autologi
andrey      1197  0.0  0.2  18112 10024 ?        Ss   15:00   0:00 /lib/systemd/systemd --user
andrey      1198  0.0  0.1 171588  5500 ?        S    15:00   0:00 (sd-pam)
andrey      1204  0.0  0.1  39900  5936 ?        S<sl 15:00   0:00 /usr/bin/pipewire
andrey      1205  0.0  0.1  23552  5896 ?        Ssl  15:00   0:00 /usr/bin/pipewire-media-session
andrey      1206  0.0  0.5 1426316 23812 ?       S<sl 15:00   0:00 /usr/bin/pulseaudio --daemonize=no -
rtkit       1216  0.0  0.0 153476  1600 ?        SNsl 15:00   0:00 /usr/libexec/rtkit-daemon
andrey      1218  0.0  0.1 388248  7624 ?        SLl  15:00   0:00 /usr/bin/gnome-keyring-daemon --daem
andrey      1233  0.0  0.1 162272  5568 tty2     Ssl+ 15:00   0:00 /usr/libexec/gdm-x-session --run-scr
andrey      1236  0.0  0.1   9828  5336 ?        Ss   15:00   0:00 /usr/bin/dbus-daemon --session --add
andrey      1243  0.3  2.5 1128844 102000 tty2   Sl+  15:00   0:18 /usr/lib/xorg/Xorg vt2 -displayfd 3 
andrey      1247  0.0  0.1 240548  7204 ?        Ssl  15:00   0:00 /usr/libexec/gvfsd
andrey      1248  0.0  0.1 463132  6456 ?        Ssl  15:00   0:00 /usr/libexec/xdg-document-portal
andrey      1254  0.0  0.1 235992  5420 ?        Ssl  15:00   0:00 /usr/libexec/xdg-permission-store
andrey      1258  0.0  0.1 381012  5848 ?        Sl   15:00   0:00 /usr/libexec/gvfsd-fuse /run/user/10
root        1263  0.0  0.0   2212   792 ?        Ss   15:00   0:00 fusermount3 -o rw,nosuid,nodev,fsnam
andrey      1287  0.0  0.6 708592 25236 ?        SNsl 15:00   0:00 /usr/libexec/tracker-miner-fs-3
andrey      1292  0.0  0.2 316040  8588 ?        Ssl  15:00   0:00 /usr/libexec/gvfs-udisks2-volume-mon
andrey      1310  0.0  0.1 236540  5912 ?        Ssl  15:00   0:00 /usr/libexec/gvfs-goa-volume-monitor
andrey      1314  0.0  0.9 568064 36444 ?        Sl   15:00   0:00 /usr/libexec/goa-daemon
andrey      1331  0.0  0.3 340980 13116 ?        Sl   15:00   0:00 /usr/libexec/goa-identity-service
andrey      1334  0.0  0.1 237736  6324 ?        Ssl  15:00   0:00 /usr/libexec/gvfs-gphoto2-volume-mon
andrey      1341  0.0  0.1 236420  4940 ?        Ssl  15:00   0:00 /usr/libexec/gvfs-mtp-volume-monitor
andrey      1348  0.0  0.1 314952  6464 ?        Ssl  15:00   0:00 /usr/libexec/gvfs-afc-volume-monitor
root        1354  0.0  0.1 242064  7764 ?        Ssl  15:00   0:00 /usr/libexec/upowerd
andrey      1382  0.0  0.3 225420 14080 tty2     Sl+  15:00   0:00 /usr/libexec/gnome-session-binary --
andrey      1484  0.0  0.1 309740  7504 ?        Ssl  15:00   0:00 /usr/libexec/at-spi-bus-launcher
andrey      1490  0.0  0.1   8684  4112 ?        S    15:00   0:00 /usr/bin/dbus-daemon --config-file=/
andrey      1523  0.0  0.0  91524  2596 ?        Ssl  15:00   0:00 /usr/libexec/gnome-session-ctl --mon
andrey      1536  0.0  0.3 595588 15916 ?        Ssl  15:00   0:00 /usr/libexec/gnome-session-binary --
andrey      1557  1.4 10.9 5496140 437960 ?      Ssl  15:00   1:11 /usr/bin/gnome-shell
andrey      1592  0.0  0.4 584776 16596 ?        Sl   15:00   0:00 /usr/libexec/gnome-shell-calendar-se
andrey      1600  0.0  0.5 1076760 23476 ?       Ssl  15:00   0:00 /usr/libexec/evolution-source-regist
andrey      1608  0.0  0.6 845568 27848 ?        Ssl  15:00   0:00 /usr/libexec/evolution-calendar-fact
andrey      1620  0.0  0.1 156848  5468 ?        Ssl  15:00   0:00 /usr/libexec/dconf-service
root        1621  0.0  0.4 299732 19172 ?        Ssl  15:00   0:00 /usr/libexec/packagekitd
andrey      1623  0.0  0.6 675008 26640 ?        Ssl  15:00   0:00 /usr/libexec/evolution-addressbook-f
andrey      1640  0.0  0.1 314872  7784 ?        Sl   15:00   0:00 /usr/libexec/gvfsd-trash --spawner :
andrey      1652  0.0  0.6 2591492 24440 ?       Sl   15:00   0:00 /usr/bin/gjs /usr/share/gnome-shell/
andrey      1654  0.0  0.1 163020  7296 ?        Sl   15:00   0:00 /usr/libexec/at-spi2-registryd --use
andrey      1670  0.0  0.0   2308   836 ?        Ss   15:00   0:00 sh -c /usr/bin/ibus-daemon --panel d
andrey      1673  0.0  0.1 310468  6072 ?        Ssl  15:00   0:00 /usr/libexec/gsd-a11y-settings
andrey      1675  0.0  0.2 388972 11340 ?        Sl   15:00   0:01 /usr/bin/ibus-daemon --panel disable
andrey      1676  0.0  0.6 466516 26976 ?        Ssl  15:00   0:00 /usr/libexec/gsd-color
andrey      1677  0.0  0.3 378492 14548 ?        Ssl  15:00   0:00 /usr/libexec/gsd-datetime
andrey      1679  0.0  0.1 312048  6832 ?        Ssl  15:00   0:00 /usr/libexec/gsd-housekeeping
andrey      1681  0.0  0.5 343920 22828 ?        Ssl  15:00   0:00 /usr/libexec/gsd-keyboard
andrey      1685  0.0  0.6 934296 27484 ?        Ssl  15:00   0:00 /usr/libexec/gsd-media-keys
andrey      1687  0.0  0.6 454456 26324 ?        Ssl  15:00   0:00 /usr/libexec/gsd-power
andrey      1688  0.0  0.2 250644  9992 ?        Ssl  15:00   0:00 /usr/libexec/gsd-print-notifications
andrey      1689  0.0  0.1 458108  6104 ?        Ssl  15:00   0:00 /usr/libexec/gsd-rfkill
andrey      1690  0.0  0.1 236248  4628 ?        Ssl  15:00   0:00 /usr/libexec/gsd-screensaver-proxy
andrey      1691  0.0  0.2 466612  9676 ?        Ssl  15:00   0:00 /usr/libexec/gsd-sharing
andrey      1692  0.0  0.1 386360  7332 ?        Ssl  15:00   0:00 /usr/libexec/gsd-smartcard
andrey      1694  0.0  0.2 320132  8288 ?        Ssl  15:00   0:00 /usr/libexec/gsd-sound
andrey      1696  0.0  0.5 344528 23216 ?        Ssl  15:00   0:00 /usr/libexec/gsd-wacom
andrey      1698  0.0  0.6 345904 25212 ?        Ssl  15:00   0:00 /usr/libexec/gsd-xsettings
andrey      1707  0.0  0.6 274712 25248 ?        Ssl  15:00   0:00 /usr/bin/spice-vdagent
andrey      1727  0.0  0.3 624756 13040 ?        Ssl  15:00   0:00 /usr/libexec/xdg-desktop-portal
andrey      1743  0.0  0.1 237368  6744 ?        Sl   15:00   0:00 /usr/libexec/ibus-dconf
andrey      1747  0.0  0.7 275256 28256 ?        Sl   15:00   0:01 /usr/libexec/ibus-extension-gtk3
andrey      1754  0.0  0.5 196504 23196 ?        Sl   15:00   0:00 /usr/libexec/ibus-x11 --kill-daemon
andrey      1756  0.0  0.1 237260  6776 ?        Sl   15:00   0:00 /usr/libexec/ibus-portal
andrey      1763  0.0  0.3 345236 12544 ?        Sl   15:00   0:00 /usr/libexec/gsd-printer
andrey      1775  0.0  2.1 1836696 86020 ?       Ssl  15:00   0:00 /usr/libexec/xdg-desktop-portal-gnom
colord      1784  0.0  0.3 245804 12200 ?        Ssl  15:00   0:00 /usr/libexec/colord
root        1787  0.0  0.1  86616  4820 ?        Ssl  15:00   0:02 /usr/sbin/spice-vdagentd
andrey      1845  0.0  1.6 817448 64044 ?        Sl   15:00   0:00 /usr/libexec/evolution-data-server/e
andrey      1850  0.0  0.1 232152  6432 ?        Sl   15:00   0:00 /usr/libexec/gsd-disk-utility-notify
andrey      1862  0.0  0.6 2722708 24516 ?       Sl   15:00   0:00 /usr/bin/gjs /usr/share/gnome-shell/
andrey      1885  0.0  0.1 163420  6680 ?        Sl   15:00   0:00 /usr/libexec/ibus-engine-simple
andrey      1941  0.0  0.6 345528 24976 ?        Ssl  15:00   0:00 /usr/libexec/xdg-desktop-portal-gtk
andrey      1950  0.0  1.4 3203016 56000 ?       Sl   15:00   0:01 gjs /usr/share/gnome-shell/extension
andrey      1968  0.0  0.1 163004  6012 ?        Ssl  15:00   0:00 /usr/libexec/gvfsd-metadata
andrey      1969  0.0  0.3  78608 12356 ?        Ss   15:00   0:00 /snap/snapd-desktop-integration/85/u
andrey      2058  0.0  0.6 312128 27760 ?        Sl   15:00   0:00 /snap/snapd-desktop-integration/85/u
root        2082  0.0  0.0   7820   792 ?        Ss+  15:01   0:00 /sbin/agetty -o -p -- \u --keep-baud
andrey      2632  0.0  0.7 421732 29708 ?        Sl   15:01   0:00 update-notifier
root        3926  0.0  0.0      0     0 ?        I    15:06   0:00 [kworker/u12:0-events_unbound]
root        4435  0.0  0.0      0     0 ?        I    15:15   0:00 [kworker/0:4-events]
root        4497  0.0  0.0      0     0 ?        I    15:22   0:00 [kworker/1:0-cgroup_destroy]
root        4933  0.0  0.0      0     0 ?        R    15:24   0:00 [kworker/u12:2-events_unbound]
root        5375  0.0  0.0      0     0 ?        I    15:25   0:00 [kworker/2:0-cgroup_destroy]
root        5399  0.0  0.0      0     0 ?        I    15:26   0:00 [kworker/0:1-events]
root        5468  0.0  0.2  18952  9788 ?        Ss   15:30   0:00 sshd: andrey [priv]
andrey      5545  0.0  0.1  19084  6504 ?        D    15:30   0:00 sshd: andrey@pts/0
andrey      5547  0.0  0.1  11448  5564 pts/0    Ss   15:30   0:00 -bash
root        5909  0.0  0.0      0     0 ?        I    15:33   0:00 [kworker/1:1-events]
root        6133  0.0  1.7 437444 68868 ?        Ssl  15:44   0:00 /usr/libexec/fwupd/fwupd
root        6158  0.0  0.0  83296  2200 ?        Ss   15:44   0:00 gpg-agent --homedir /var/lib/fwupd/g
root        6170  0.0  0.0      0     0 ?        I    15:44   0:00 [kworker/5:0-events]
root        6192  0.0  0.0      0     0 ?        I    15:56   0:00 [kworker/4:1]
root        6211  0.0  0.0      0     0 ?        I    16:08   0:00 [kworker/u12:1-events_unbound]
root        6265  0.0  0.0      0     0 ?        I    16:18   0:00 [kworker/5:1]
root        6304  0.0  0.0      0     0 ?        I    16:18   0:00 [kworker/2:3-events]
root        6782  0.0  0.0      0     0 ?        I    16:18   0:00 [kworker/3:0-events]
andrey      7326  0.0  0.0  13312  3424 pts/0    R+   16:26   0:00 ps -aux
andrey@utm-vm:~$ ls
Desktop    Downloads  ICW    Pictures  Templates  all.txt    err.txt     example1.sh  lws      snap
Documents  GB         Music  Public    Videos     cycles.sh  example1.c  ls_txt       sdt.txt  testsc
andrey@utm-vm:~$ nano example1.c 
andrey@utm-vm:~$ nano example1.sh 
andrey@utm-vm:~$ gcc example1.c -o example1.sh
andrey@utm-vm:~$ ./example1.sh
clone() = -1
andrey@utm-vm:~$ nano example1.c 
andrey@utm-vm:~$ gcc example1.c -o example1.sh
andrey@utm-vm:~$ ./example1.sh
clone() = -1
andrey@utm-vm:~$ nano example1.c 
andrey@utm-vm:~$ gcc example1.c -o example1.sh
andrey@utm-vm:~$ ./example1.sh
clone() = -1
andrey@utm-vm:~$ nano example1.c 
andrey@utm-vm:~$ nano example1.c 
andrey@utm-vm:~$ gcc example1.c -o example1.sh
andrey@utm-vm:~$ ./example1.sh
clone() = 7427
Parent PID: 7426
andrey@utm-vm:~$ nano example1.c 
andrey@utm-vm:~$ gcc example1.c -o example1.sh
andrey@utm-vm:~$ ./example1.sh
clone() = -1
andrey@utm-vm:~$ ./example1.sh !!
./example1.sh ./example1.sh
clone() = -1
andrey@utm-vm:~$ sudo ./example1.sh
[sudo] password for andrey: 
clone() = 7452
Parent PID: 0
andrey@utm-vm:~$ nano example1.c 
andrey@utm-vm:~$ ./example1.sh ./example1.sh
clone() = -1
andrey@utm-vm:~$ gcc example1.c -o example1.sh
andrey@utm-vm:~$ sudo ./example1.sh
clone() = 7474
Parent PID: 7473
andrey@utm-vm:~$ nano example2.c
andrey@utm-vm:~$ gcc example2.c -o example2.sh
andrey@utm-vm:~$ ./example2.sh 
Original `net` Namespace:
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: enp0s1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP mode DEFAULT group default qlen 1000
    link/ether d6:31:27:22:f4:dd brd ff:ff:ff:ff:ff:ff
3: docker0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default 
    link/ether 02:42:1d:04:6e:2f brd ff:ff:ff:ff:ff:ff


andrey@utm-vm:~$ sudo !!
sudo ./example2.sh 
[sudo] password for andrey: 
Original `net` Namespace:
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: enp0s1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP mode DEFAULT group default qlen 1000
    link/ether d6:31:27:22:f4:dd brd ff:ff:ff:ff:ff:ff
3: docker0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default 
    link/ether 02:42:1d:04:6e:2f brd ff:ff:ff:ff:ff:ff


New `net` Namespace:
1: lo: <LOOPBACK> mtu 65536 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00


andrey@utm-vm:~$ strace
strace: must have PROG [ARGS] or -p PID
Try 'strace -h' for more information.
andrey@utm-vm:~$ strace ./example2.sh 
execve("./example2.sh", ["./example2.sh"], 0xfffff277b360 /* 33 vars */) = 0
brk(NULL)                               = 0xaaaadc4e8000
mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xffff982e3000
faccessat(AT_FDCWD, "/etc/ld.so.preload", R_OK) = -1 ENOENT (No such file or directory)
openat(AT_FDCWD, "/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3
newfstatat(3, "", {st_mode=S_IFREG|0644, st_size=53055, ...}, AT_EMPTY_PATH) = 0
mmap(NULL, 53055, PROT_READ, MAP_PRIVATE, 3, 0) = 0xffff982a1000
close(3)                                = 0
openat(AT_FDCWD, "/lib/aarch64-linux-gnu/libc.so.6", O_RDONLY|O_CLOEXEC) = 3
read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0\267\0\1\0\0\0\340u\2\0\0\0\0\0"..., 832) = 832
newfstatat(3, "", {st_mode=S_IFREG|0755, st_size=1641496, ...}, AT_EMPTY_PATH) = 0
mmap(NULL, 1810024, PROT_NONE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xffff980e7000
mmap(0xffff980f0000, 1744488, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0) = 0xffff980f0000
munmap(0xffff980e7000, 36864)           = 0
munmap(0xffff9829a000, 28264)           = 0
mprotect(0xffff98279000, 61440, PROT_NONE) = 0
mmap(0xffff98288000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x188000) = 0xffff98288000
mmap(0xffff9828e000, 48744, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0xffff9828e000
close(3)                                = 0
set_tid_address(0xffff982e3f30)         = 7579
set_robust_list(0xffff982e3f40, 24)     = 0
rseq(0xffff982e4600, 0x20, 0, 0xd428bc00) = 0
mprotect(0xffff98288000, 16384, PROT_READ) = 0
mprotect(0xaaaab8220000, 4096, PROT_READ) = 0
mprotect(0xffff982e8000, 8192, PROT_READ) = 0
prlimit64(0, RLIMIT_STACK, NULL, {rlim_cur=8192*1024, rlim_max=RLIM64_INFINITY}) = 0
munmap(0xffff982a1000, 53055)           = 0
newfstatat(1, "", {st_mode=S_IFCHR|0620, st_rdev=makedev(0x88, 0), ...}, AT_EMPTY_PATH) = 0
getrandom("\xa5\xe3\x6f\xda\x5b\x0e\xc9\x22", 8, GRND_NONBLOCK) = 8
brk(NULL)                               = 0xaaaadc4e8000
brk(0xaaaadc509000)                     = 0xaaaadc509000
write(1, "Original `net` Namespace:\n", 26Original `net` Namespace:
) = 26
rt_sigaction(SIGINT, {sa_handler=SIG_IGN, sa_mask=[], sa_flags=0}, {sa_handler=SIG_DFL, sa_mask=[], sa_flags=0}, 8) = 0
rt_sigaction(SIGQUIT, {sa_handler=SIG_IGN, sa_mask=[], sa_flags=0}, {sa_handler=SIG_DFL, sa_mask=[], sa_flags=0}, 8) = 0
rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
mmap(NULL, 36864, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0xffff982da000
rt_sigprocmask(SIG_BLOCK, ~[], [CHLD], 8) = 0
clone(child_stack=0xffff982e3000, flags=CLONE_VM|CLONE_VFORK|SIGCHLD) = 7580
munmap(0xffff982da000, 36864)           = 0
rt_sigprocmask(SIG_SETMASK, [CHLD], NULL, 8) = 0
wait4(7580, 1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: enp0s1: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP mode DEFAULT group default qlen 1000
    link/ether d6:31:27:22:f4:dd brd ff:ff:ff:ff:ff:ff
3: docker0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default 
    link/ether 02:42:1d:04:6e:2f brd ff:ff:ff:ff:ff:ff
[{WIFEXITED(s) && WEXITSTATUS(s) == 0}], 0, NULL) = 7580
rt_sigaction(SIGINT, {sa_handler=SIG_DFL, sa_mask=[], sa_flags=0}, NULL, 8) = 0
rt_sigaction(SIGQUIT, {sa_handler=SIG_DFL, sa_mask=[], sa_flags=0}, NULL, 8) = 0
rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
--- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=7580, si_uid=1000, si_status=0, si_utime=0, si_stime=0} ---
write(1, "\n", 1
)                       = 1
write(1, "\n", 1
)                       = 1
clone(child_stack=0xaaaab8321010, flags=CLONE_NEWPID|CLONE_NEWNET|SIGCHLD) = -1 EPERM (Operation not permitted)
wait4(-1, NULL, 0, NULL)                = -1 ECHILD (No child processes)
exit_group(0)                           = ?
+++ exited with 0 +++
andrey@utm-vm:~$ uname
Linux
andrey@utm-vm:~$ uname -n
utm-vm
andrey@utm-vm:~$ uname -r
5.19.0-46-generic
andrey@utm-vm:~$ uname -a
Linux utm-vm 5.19.0-46-generic #47~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Wed Jun 21 15:35:58 UTC 2 aarch64 aarch64 aarch64 GNU/Linux
andrey@utm-vm:~$ uname -s
Linux
andrey@utm-vm:~$ nano example3.c
andrey@utm-vm:~$ ls
Desktop    Downloads  ICW    Pictures  Templates  all.txt    err.txt     example1.sh  example2.sh  lws      snap
Documents  GB         Music  Public    Videos     cycles.sh  example1.c  example2.c   ls_txt       sdt.txt  testsc
andrey@utm-vm:~$ uname -i
aarch64
andrey@utm-vm:~$ uname -o
GNU/Linux
andrey@utm-vm:~$ uname -p
aarch64
andrey@utm-vm:~$ nano example3.c
andrey@utm-vm:~$ gcc example3.c -o example3.sh
andrey@utm-vm:~$ sudo ./example3.sh 
Original UTS namespace nodename: utm-vm
New UTS namespace nodename: utm-vm
Changing nodename inside new UTS namespace
New UTS namespace nodename: GeekBr
Original UTS namespace nodename: utm-vm
andrey@utm-vm:~$ exit
logout
Connection to 192.168.64.10 closed.
(base) a_zavershinskiy@MBP--AZavershinskiy ~ % exit

Saving session...
...copying shared history...
...saving history...truncating history files...
...completed.
Deleting expired sessions...none found.

[Process completed]

